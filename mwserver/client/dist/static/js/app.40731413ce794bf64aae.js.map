{"version":3,"sources":["webpack:///static/js/app.40731413ce794bf64aae.js","webpack:///./src/components/MultipleFileUploader.vue?ffcf","webpack:///./src/components/StoryEdit.vue?4aee","webpack:///./src/components/StoryEdit.vue?6ff2","webpack:///./src/components/MultipleFileUploader.vue?3f23","webpack:///./src/App.vue?67de","webpack:///./src/components/EventBus.js","webpack:///./src/App.vue?35a7","webpack:///App.vue","webpack:///MultipleFileUploader.vue","webpack:///StoryEdit.vue","webpack:///./src/main.js"],"names":["webpackJsonp","113","module","exports","114","115","117","__webpack_require__","Component","118","119","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","directives","rawName","value","expression","_v","_s","msg","postURL","successMessagePath","errorMessagePath","showUploadWidget","for","id","type","placeholder","on","click","updateStory","contenteditable","domProps","innerHTML","theStory","focus","gotFocus","staticRenderFns","120","role","enctype","submit","$event","preventDefault","onSubmit","itemsAdded","_l","size","itemsTotalSize","removeItems","_e","ondragover","onChange","required","change","121","123","38","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_vue__","EventBus","50","68","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__components_StoryEdit__","__WEBPACK_IMPORTED_MODULE_0__components_StoryEdit___default","n","components","StoryEdit","a","69","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default","__WEBPACK_IMPORTED_MODULE_2_axios__","__WEBPACK_IMPORTED_MODULE_2_axios___default","__WEBPACK_IMPORTED_MODULE_3__EventBus__","polyfill","props","String","minItems","Number","default","method","postMeta","Array","data","items","itemsNames","itemsSizes","formData","successMsg","errorMsg","isLoaderVisible","methods","bytesToSize","bytes","sizes","i","parseInt","Math","floor","log","pow","toFixed","e","FormData","files","target","dataTransfer","length","fileSizes","x","isNaN","append","_this","url","then","response","$emit","catch","error","70","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","__WEBPACK_IMPORTED_MODULE_2__MultipleFileUploader__","__WEBPACK_IMPORTED_MODULE_2__MultipleFileUploader___default","MultipleFileUploader","errors","location","description","tags","curImage","curImageURL","updateImageParams","insertHtmlAtCursor","document","getElementById","console","html","range","node","window","getSelection","getRangeAt","createContextualFragment","insertNode","selection","createRange","pasteHTML","myStory","params","URLSearchParams","post","push","created","_this2","get","story","$on","pi","photoURL","71","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","config","productionTip","el","template","App"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,KAMlBC,IACA,SAAUF,EAAQC,KAMlBE,IACA,SAAUH,EAAQC,KAMlBG,IACA,SAAUJ,EAAQC,EAASI,GCtBjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,IAEAA,EAAA,IAEAA,EAAA,KAEA,KAEA,KAGAL,GAAAC,QAAAK,EAAAL,SD+BMM,IACA,SAAUP,EAAQC,EAASI,GE7CjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,IAEAA,EAAA,IAEAA,EAAA,KAEA,kBAEA,KAGAL,GAAAC,QAAAK,EAAAL,SFsDMO,IACA,SAAUR,EAAQC,GGtExBD,EAAAC,SAAgBQ,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,YAAA,UACGF,EAAA,cACHG,OACAC,KAAA,UAEGJ,EAAA,OACHK,aACAD,KAAA,OACAE,QAAA,SACAC,MAAAX,EAAA,iBACAY,WAAA,uBAEGR,EAAA,MAAAJ,EAAAa,GAAAb,EAAAc,GAAAd,EAAAe,QAAAf,EAAAa,GAAA,KAAAT,EAAA,0BACHG,OACAS,QAAA,kCACAC,mBAAA,GACAC,iBAAA,OAEG,KAAAlB,EAAAa,GAAA,KAAAT,EAAA,cACHG,OACAC,KAAA,UAEGJ,EAAA,OACHK,aACAD,KAAA,OACAE,QAAA,SACAC,OAAAX,EAAAmB,iBACAP,WAAA,wBAEGR,EAAA,MAAAJ,EAAAa,GAAA,uDAAAb,EAAAa,GAAA,KAAAT,EAAA,SACHG,OACAa,IAAA,cAEGpB,EAAAa,GAAA,cAAAb,EAAAa,GAAA,KAAAT,EAAA,SACHG,OACAc,GAAA,WACAC,KAAA,UAEGtB,EAAAa,GAAA,KAAAT,EAAA,SACHG,OACAa,IAAA,iBAEGpB,EAAAa,GAAA,iBAAAb,EAAAa,GAAA,KAAAT,EAAA,SACHG,OACAc,GAAA,cACAC,KAAA,OACAC,YAAA,iBAEGvB,EAAAa,GAAA,KAAAT,EAAA,SACHG,OACAa,IAAA,UAEGpB,EAAAa,GAAA,UAAAb,EAAAa,GAAA,KAAAT,EAAA,SACHG,OACAc,GAAA,OACAC,KAAA,OACAC,YAAA,UAEGvB,EAAAa,GAAA,KAAAT,EAAA,UACHoB,IACAC,MAAAzB,EAAA0B,eAEG1B,EAAAa,GAAA,sBAAAb,EAAAa,GAAA,KAAAT,EAAA,OACHG,OACAc,GAAA,UACAM,gBAAA,QAEAC,UACAC,UAAA7B,EAAAc,GAAAd,EAAA8B,WAEAN,IACAO,MAAA/B,EAAAgC,aAEG,IACFC,qBH4EKC,IACA,SAAU5C,EAAQC,GIzJxBD,EAAAC,SAAgBQ,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,YAAA,cACGF,EAAA,QACHG,OACA4B,KAAA,OACAC,QAAA,uBAEAZ,IACAa,OAAA,SAAAC,GACAA,EAAAC,iBACAvC,EAAAwC,SAAAF,OAGGtC,EAAAyC,WAmBArC,EAAA,OACHE,YAAA,kBACGF,EAAA,KAAAA,EAAA,UAAAJ,EAAAa,GAAA,YAAAb,EAAAa,GAAA,KAAAT,EAAA,KAAAJ,EAAA0C,GAAA1C,EAAA,oBAAAQ,GACH,MAAAJ,GAAA,MAAAJ,EAAAa,GAAAb,EAAAc,GAAAN,SACGR,EAAAa,GAAA,KAAAT,EAAA,KAAAA,EAAA,UAAAJ,EAAAa,GAAA,YAAAb,EAAAa,GAAA,KAAAT,EAAA,KAAAJ,EAAA0C,GAAA1C,EAAA,oBAAA2C,GACH,MAAAvC,GAAA,MAAAJ,EAAAa,GAAAb,EAAAc,GAAA6B,SACG3C,EAAAa,GAAA,KAAAT,EAAA,KAAAA,EAAA,UAAAJ,EAAAa,GAAA,wBAAAb,EAAAa,GAAA,IAAAb,EAAAc,GAAAd,EAAA4C,mBAAA5C,EAAAa,GAAA,KAAAT,EAAA,UACHoB,IACAC,MAAAzB,EAAA6C,eAEG7C,EAAAa,GAAA,kBAAAb,EAAAa,GAAA,KAAAb,EAAA,gBAAAI,EAAA,OACHE,YAAA,WACGF,EAAA,OACHE,YAAA,gBACGN,EAAA8C,OAjCA1C,EAAA,OACHE,YAAA,kBACGF,EAAA,OACHE,YAAA,eACGF,EAAA,OACHE,YAAA,WACAkB,IACAuB,WAAA/C,EAAAgD,YAEGhD,EAAAa,GAAA,0EAAAT,EAAA,SACHG,OACAe,KAAA,OACAD,GAAA,QACAb,KAAA,UACAyC,SAAA,IAEAzB,IACA0B,OAAAlD,EAAAgD,uBAiBCf,qBJ+JKkB,IACA,SAAU7D,EAAQC,GKhNxBD,EAAAC,SAAgBQ,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAG,OACAc,GAAA,SAEGjB,EAAA,kBACF6B,qBLsNKmB,IACA,SAAU9D,EAAQC,KAMlB8D,GACA,SAAU/D,EAAQgE,EAAqB3D,GAE7C,YACqB,IAAI4D,GAAoC5D,EAAoB,IMtO7E6D,EAAW,GAAID,GAAA,CAGnBD,GAAA,KN2OMG,GACA,SAAUnE,EAAQC,EAASI,GO9OjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,IAEAA,EAAA,IAEAA,EAAA,KAEA,KAEA,KAGAL,GAAAC,QAAAK,EAAAL,SPuPMmE,GACA,SAAUpE,EAAQgE,EAAqB3D,GAE7C,YACAgE,QAAOC,eAAeN,EAAqB,cAAgB3C,OAAO,GAC7C,IAAIkD,GAAsDlE,EAAoB,KAC1EmE,EAA8DnE,EAAoBoE,EAAEF,EQnQ7GP,GAAA,SRyQE9C,KQvQF,MRwQEwD,YQrQFC,UAAAH,EAAAI,KR4QMC,GACA,SAAU7E,EAAQgE,EAAqB3D,GAE7C,YACAgE,QAAOC,eAAeN,EAAqB,cAAgB3C,OAAO,GAC7C,IAAIyD,GAAkEzE,EAAoB,IACtF0E,EAA0E1E,EAAoBoE,EAAEK,GAChGE,EAA6D3E,EAAoB,IACjF4E,EAAqE5E,EAAoBoE,EAAEO,GAC3FE,EAAsC7E,EAAoB,IAC1D8E,EAA8C9E,EAAoBoE,EAAES,GACpEE,EAA0C/E,EAAoB,GSvPvFA,GAAA,KAAAgF,WTiQIF,EAA4CP,ES5PhDZ,EAAA,ST+PIsB,OACI5D,SACIM,KS7PZuD,OT8PY5B,US5PZ,GT8PQ6B,UACIxD,KS7PZyD,OT8PYC,QS5PZ,GT8PQC,QACI3D,KS7PZuD,OT8PYG,QS5PZ,QT8PQE,UACI5D,MAAOuD,OAAQM,MS7P3BxB,QT8PYqB,QS5PZ,IT8PQ/D,oBACIK,KS7PZuD,OT8PY5B,US5PZ,GT8PQ/B,kBACII,KS7PZuD,OT8PY5B,USvPZ,IT2PImC,KAAM,WACF,OACIC,SACA5C,WS1PZ,GT2PY6C,cACAC,cACA3C,eS1PZ,GT2PY4C,SS1PZ,GT2PYC,WS1PZ,GT2PYC,SS1PZ,GT2PYC,iBSzPZ,IT8PIC,SACIC,YAAa,SAAqBC,GAC9B,GAAIC,IAAS,QAAS,KAAM,KAAM,KS1P9C,KT2PY,IAAa,GAATD,EAAY,MS1P5B,KT2PY,IAAIE,GAAIC,SAASC,KAAKC,MAAMD,KAAKE,IAAIN,GAASI,KAAKE,IS1P/D,OT2PY,OAAS,IAALJ,EAAeF,EAAQ,IAAMC,ES1P7CC,IT2PoBF,EAAQI,KAAKG,IAAI,KAAML,IAAIM,QAAQ,GAAK,IAAMP,ES1PlEC,IT4PQhD,SAAU,SAAkBuD,GACxBtG,KAAKwF,WSzPjB,GT0PYxF,KAAKyF,SSzPjB,GT0PYzF,KAAKuF,SAAW,GSzP5BgB,ST0PY,IAAIC,GAAQF,EAAEG,OAAOD,OAASF,EAAEI,aSzP5CF,KT0PYxG,MAAKwC,WAAagE,ESzP9BG,MT0PY,IAAIC,GSzPhB,CT0PY,KAAK,GAAIC,KAAKL,GACLM,MAAMD,KACP7G,KAAKoF,MAAQkB,EAAEG,OAAOD,MAAMK,IAAMP,EAAEI,aAAaF,MSzPrEK,GT0PoB7G,KAAKqF,WAAWwB,GAAKL,EAAMK,GSzP/CtG,KT0PoBP,KAAKsF,WAAWuB,GAAK7G,KAAK4F,YAAYY,EAAMK,GSzPhEnE,MT0PoBkE,GAAaJ,EAAMK,GSzPvCnE,KT0PoB1C,KAAKuF,SAASwB,OAAO,UAAW/G,KSzPpDoF,OT4PYpF,MAAK2C,eAAiB3C,KAAK4F,YSzPvCgB,GT0PY5G,KSzPZuC,YT2PQK,YAAa,WACT5C,KAAKoF,MSxPjB,GTyPYpF,KAAKwC,WSxPjB,GTyPYxC,KAAKqF,cACLrF,KAAKsF,cACLtF,KAAK2C,eSxPjB,IT0PQJ,SAAU,WSvPlB,GAAAyE,GAAAhH,IT0PYA,MAAK0F,iBSxPjB,GT0PyC,gBAAlB1F,MAAKiF,USzP5B,KTyPqDjF,KAAKiF,USzP1D,WAAAX,IAAAtE,KAAAiF,WAAAb,IAAApE,KAAAiF,UAAA0B,OAAA,IT0PgB3G,KAAKuF,SAASwB,OAAO,WAAY/G,KSxPjDiF,UT2PgC,QAAhBjF,KAAKgF,QAAoC,SAAhBhF,KAAKgF,OAC9BR,KAAgDQ,OAAQhF,KAAKgF,OAAQiC,IAAKjH,KAAKe,QAASoE,KAAMnF,KSxP9GuF,WAAA2B,KAAA,SAAAC,GTyPoB1C,EAAyD,EAAE2C,MAAM,mBSnPrFD,GTqPoBH,EAAMtB,iBSnP1B,ETqPoBsB,EAAMxB,WAAawB,ESpPvChG,mBTqPoBgG,ESpPpBpE,gBACAyE,MAAA,SAAAC,GTqPoBN,EAAMtB,iBSnP1B,EToPoBsB,EAAMvB,SAAW6B,EAAQ,IAAMN,ESnPnD/F,iBToPoB+F,ESnPpBpE,iBTsPgB5C,KAAKyF,SSnPrB,8EToPgBzF,KSnPhB4C,mBT2PM2E,GACA,SAAUlI,EAAQgE,EAAqB3D,GAE7C,YACAgE,QAAOC,eAAeN,EAAqB,cAAgB3C,OAAO,GAC7C,IAAI8G,GAAqE9H,EAAoB,IACzF+H,EAA6E/H,EAAoBoE,EAAE0D,GACnGE,EAAsChI,EAAoB,IAC1DiI,EAA8CjI,EAAoBoE,EAAE4D,GACpEE,EAAsDlI,EAAoB,KAC1EmI,EAA8DnI,EAAoBoE,EAAE8D,GACpFnD,EAA0C/E,EAAoB,GUlYvF2D,GAAA,SV4YEU,YUvYF+D,qBAAAD,EAAA5D,GV0YE1D,KUzYF,YV0YE4E,KAAM,WACJ,OACE4C,UACAjH,IUzYN,eV0YMe,SUzYN,aV0YMmG,SUzYN,GV0YMC,YUzYN,GV0YMC,KUzYN,GV0YMC,SUzYN,GV0YMC,YUzYN,GV0YMlH,kBUxYN,IV6YEyE,SACE5D,SAAU,WACR/B,KU1YNqI,oBV2YMrI,KAAKsI,mBAAmBtI,KU1Y9BmI,WV4YIE,kBAAmB,WACjBrI,KAAKgI,SAAWO,SAASC,eAAe,YUzY9C9H,MV0YMV,KAAKiI,YAAcM,SAASC,eAAe,eUzYjD9H,MV0YMV,KAAKkI,KAAOK,SAASC,eAAe,QUxY1C9H,MV0YMV,KAAKmI,SAAW,oBAAsBnI,KAAKoI,YAAc,uBAAyBpI,KAAKgI,SAAW,kBAAoBhI,KAAKiI,YAAc,WAAajI,KUxY5JkI,KAAA,OV0YMO,QAAQtC,IAAInG,KUzYlBmI,WV2YIG,mBAAoB,SAA4BI,GAC9C,GAAIC,GUvYVC,CVwYUC,QAAOC,cAAgBD,OAAOC,eAAeC,YAC/CJ,EAAQE,OAAOC,eAAeC,WUvYtC,GVwYQH,EAAOD,EAAMK,yBUvYrBN,GVwYQC,EAAMM,WUvYdL,IVwYiBL,SAASW,WAAaX,SAASW,UAAUC,aAClDZ,SAASW,UAAUC,cAAcC,UUvYzCV,EV0YM,IAAIW,GAAUd,SAASC,eUvY7B,UVwYMC,SAAQtC,IAAIkD,EUtYlBzH,YVwYIH,YAAa,WUrYjB,GAAAuF,GAAAhH,KVwYUsJ,EAAS,GUvYnBC,gBVwYMD,GAAOvC,OAAO,QAASU,IAA6E4B,QUtY1GzH,YVwYM+F,EAA4C1D,EAAEuF,KAAK,qCUvYzDF,GAAApC,KAAA,SAAAC,GVwYQH,EAAM9F,kBUtYd,IACAmG,MAAA,SAAAf,GVuYQU,EAAMe,OAAO0B,KUrYrBnD,OV0YEoD,QAAS,WUlYX,GAAAC,GAAA3J,IVqYI2H,GAA4C1D,EUpYhD2F,IAAA,sBAAA1C,KAAA,SAAAC,GVqYUA,EAAShC,KAAK0E,MAAMlD,OACtBgD,EAAO9H,SAAWsF,EAAShC,KUnYnC0E,MVqYQF,EAAO9H,SUnYf,yBAEAwF,MAAA,SAAAf,GVoYMqD,EAAO5B,OAAO0B,KUlYpBnD,KVqYI7B,EAAyD,EAAEqF,IAAI,mBAAoB,SAAU3C,GAC3FwC,EAAOvB,YAAcjB,EAAShC,KAAK4E,GUlYzCC,SVmYML,EAAOzI,kBUjYb,EVmYMyI,EUlYNtB,yBVyYM4B,GACA,SAAU5K,EAAQgE,EAAqB3D,GAE7C,YACAgE,QAAOC,eAAeN,EAAqB,cAAgB3C,OAAO,GAC7C,IAAI4C,GAAoC5D,EAAoB,IACxDwK,EAAqCxK,EAAoB,IACzDyK,EAA6CzK,EAAoBoE,EAAEoG,EWzgB5F5G,GAAA,EAAI8G,OAAOC,eAAgB,CAEZ,IAAI/G,GAAA,CAGnB,IAAIA,GAAA,GACFgH,GAAI,OACJC,SAAU,SACVxG,YAAcyG,IAAAL,EAAAlG,QXkhBb","file":"static/js/app.40731413ce794bf64aae.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 113:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(114)\n\nvar Component = __webpack_require__(29)(\n  /* script */\n  __webpack_require__(69),\n  /* template */\n  __webpack_require__(120),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(113)\n\nvar Component = __webpack_require__(29)(\n  /* script */\n  __webpack_require__(70),\n  /* template */\n  __webpack_require__(119),\n  /* scopeId */\n  \"data-v-0eb259cd\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"hello\"\n  }, [_c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showUploadWidget),\n      expression: \"showUploadWidget\"\n    }]\n  }, [_c('h1', [_vm._v(_vm._s(_vm.msg))]), _vm._v(\" \"), _c('multiple-file-uploader', {\n    attrs: {\n      \"postURL\": \"http://mwstory.dev?cmd=addPhoto\",\n      \"successMessagePath\": \"\",\n      \"errorMessagePath\": \"\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.showUploadWidget),\n      expression: \"!showUploadWidget\"\n    }]\n  }, [_c('h1', [_vm._v(\"Enter Attributes, then pick spot, update story...\")]), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": \"location\"\n    }\n  }, [_vm._v(\"Location\")]), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"id\": \"location\",\n      \"type\": \"text\"\n    }\n  }), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": \"description\"\n    }\n  }, [_vm._v(\"Description\")]), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"id\": \"description\",\n      \"type\": \"text\",\n      \"placeholder\": \"description\"\n    }\n  }), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": \"tags\"\n    }\n  }, [_vm._v(\"Tags\")]), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"id\": \"tags\",\n      \"type\": \"text\",\n      \"placeholder\": \"tags\"\n    }\n  }), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": _vm.updateStory\n    }\n  }, [_vm._v(\"Update Story\")])])]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"myStory\",\n      \"contenteditable\": \"true\"\n    },\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.theStory)\n    },\n    on: {\n      \"focus\": _vm.gotFocus\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"uploadBox\"\n  }, [_c('form', {\n    attrs: {\n      \"role\": \"form\",\n      \"enctype\": \"multipart/form-data\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.onSubmit($event)\n      }\n    }\n  }, [(!_vm.itemsAdded) ? _c('div', {\n    staticClass: \"uploadBoxMain\"\n  }, [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('div', {\n    staticClass: \"dropArea\",\n    on: {\n      \"ondragover\": _vm.onChange\n    }\n  }, [_vm._v(\"\\n                        Drop a photo here.\\n                        \"), _c('input', {\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"items\",\n      \"name\": \"items[]\",\n      \"required\": \"\"\n    },\n    on: {\n      \"change\": _vm.onChange\n    }\n  })])])]) : _c('div', {\n    staticClass: \"uploadBoxMain\"\n  }, [_c('p', [_c('strong', [_vm._v(\"Name\")])]), _vm._v(\" \"), _c('ol', _vm._l((_vm.itemsNames), function(name) {\n    return _c('li', [_vm._v(_vm._s(name))])\n  })), _vm._v(\" \"), _c('p', [_c('strong', [_vm._v(\"Size\")])]), _vm._v(\" \"), _c('ol', _vm._l((_vm.itemsSizes), function(size) {\n    return _c('li', [_vm._v(_vm._s(size))])\n  })), _vm._v(\" \"), _c('p', [_c('strong', [_vm._v(\"Total upload size:\")]), _vm._v(\" \" + _vm._s(_vm.itemsTotalSize))]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": _vm.removeItems\n    }\n  }, [_vm._v(\"Remove files\")]), _vm._v(\" \"), (_vm.isLoaderVisible) ? _c('div', {\n    staticClass: \"loader\"\n  }, [_c('div', {\n    staticClass: \"loaderImg\"\n  })]) : _vm._e()])])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('StoryEdit')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(31);\n\nvar EventBus = new __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (EventBus);\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(115)\n\nvar Component = __webpack_require__(29)(\n  /* script */\n  __webpack_require__(68),\n  /* template */\n  __webpack_require__(121),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_StoryEdit__ = __webpack_require__(118);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_StoryEdit___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_StoryEdit__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  components: {\n    StoryEdit: __WEBPACK_IMPORTED_MODULE_0__components_StoryEdit___default.a\n  }\n});\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(73);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__ = __webpack_require__(76);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__EventBus__ = __webpack_require__(38);\n\n\n\n\n__webpack_require__(112).polyfill();\n\n\n\ncomponent: {\n    __WEBPACK_IMPORTED_MODULE_2_axios___default.a;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: {\n        postURL: {\n            type: String,\n            required: true\n        },\n        minItems: {\n            type: Number,\n            default: 1\n        },\n        method: {\n            type: String,\n            default: 'post'\n        },\n        postMeta: {\n            type: [String, Array, Object],\n            default: ''\n        },\n        successMessagePath: {\n            type: String,\n            required: true\n        },\n        errorMessagePath: {\n            type: String,\n            required: true\n        }\n    },\n\n    data: function data() {\n        return {\n            items: [],\n            itemsAdded: '',\n            itemsNames: [],\n            itemsSizes: [],\n            itemsTotalSize: '',\n            formData: '',\n            successMsg: '',\n            errorMsg: '',\n            isLoaderVisible: false\n        };\n    },\n\n\n    methods: {\n        bytesToSize: function bytesToSize(bytes) {\n            var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n            if (bytes == 0) return 'n/a';\n            var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n            if (i == 0) return bytes + ' ' + sizes[i];\n            return (bytes / Math.pow(1024, i)).toFixed(2) + ' ' + sizes[i];\n        },\n        onChange: function onChange(e) {\n            this.successMsg = '';\n            this.errorMsg = '';\n            this.formData = new FormData();\n            var files = e.target.files || e.dataTransfer.files;\n            this.itemsAdded = files.length;\n            var fileSizes = 0;\n            for (var x in files) {\n                if (!isNaN(x)) {\n                    this.items = e.target.files[x] || e.dataTransfer.files[x];\n                    this.itemsNames[x] = files[x].name;\n                    this.itemsSizes[x] = this.bytesToSize(files[x].size);\n                    fileSizes += files[x].size;\n                    this.formData.append('items[]', this.items);\n                }\n            }\n            this.itemsTotalSize = this.bytesToSize(fileSizes);\n            this.onSubmit();\n        },\n        removeItems: function removeItems() {\n            this.items = '';\n            this.itemsAdded = '';\n            this.itemsNames = [];\n            this.itemsSizes = [];\n            this.itemsTotalSize = '';\n        },\n        onSubmit: function onSubmit() {\n            var _this = this;\n\n            this.isLoaderVisible = true;\n\n            if (typeof this.postMeta === 'string' && this.postMeta !== '' || __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(this.postMeta) === 'object' && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(this.postMeta).length > 0) {\n                this.formData.append('postMeta', this.postMeta);\n            }\n\n            if (this.method === 'put' || this.method === 'post') {\n                __WEBPACK_IMPORTED_MODULE_2_axios___default()({ method: this.method, url: this.postURL, data: this.formData }).then(function (response) {\n                    __WEBPACK_IMPORTED_MODULE_3__EventBus__[\"a\" /* default */].$emit(\"photoUploadEvent\", response);\n\n                    _this.isLoaderVisible = false;\n\n                    _this.successMsg = _this.successMessagePath;\n                    _this.removeItems();\n                }).catch(function (error) {\n                    _this.isLoaderVisible = false;\n                    _this.errorMsg = error + \".\" + _this.errorMessagePath;\n                    _this.removeItems();\n                });\n            } else {\n                this.errorMsg = \"This HTTP method is not allowed. Please use either 'put' or 'post' methods.\";\n                this.removeItems();\n            }\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(72);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MultipleFileUploader__ = __webpack_require__(117);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MultipleFileUploader___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__MultipleFileUploader__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__EventBus__ = __webpack_require__(38);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\n  components: {\n    MultipleFileUploader: __WEBPACK_IMPORTED_MODULE_2__MultipleFileUploader___default.a\n  },\n  name: 'StoryEdit',\n  data: function data() {\n    return {\n      errors: [],\n      msg: 'Story Editor',\n      theStory: 'Loading...',\n      location: \"\",\n      description: \"\",\n      tags: \"\",\n      curImage: \"\",\n      curImageURL: '',\n      showUploadWidget: true\n    };\n  },\n\n\n  methods: {\n    gotFocus: function gotFocus() {\n      this.updateImageParams();\n      this.insertHtmlAtCursor(this.curImage);\n    },\n    updateImageParams: function updateImageParams() {\n      this.location = document.getElementById('location').value;\n      this.description = document.getElementById('description').value;\n      this.tags = document.getElementById('tags').value;\n\n      this.curImage = '<img src=\"http://' + this.curImageURL + '\" title=\\'Location: ' + this.location + '\\nDescription: ' + this.description + '\\nTags: ' + this.tags + '\\' />';\n\n      console.log(this.curImage);\n    },\n    insertHtmlAtCursor: function insertHtmlAtCursor(html) {\n      var range, node;\n      if (window.getSelection && window.getSelection().getRangeAt) {\n        range = window.getSelection().getRangeAt(0);\n        node = range.createContextualFragment(html);\n        range.insertNode(node);\n      } else if (document.selection && document.selection.createRange) {\n        document.selection.createRange().pasteHTML(html);\n      }\n\n      var myStory = document.getElementById('myStory');\n      console.log(myStory.innerHTML);\n    },\n    updateStory: function updateStory() {\n      var _this = this;\n\n      var params = new URLSearchParams();\n      params.append('story', __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(myStory.innerHTML));\n\n      __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post('http://mwstory.dev?cmd=updateStory', params).then(function (response) {\n        _this.showUploadWidget = true;\n      }).catch(function (e) {\n        _this.errors.push(e);\n      });\n    }\n  },\n\n  created: function created() {\n    var _this2 = this;\n\n    __WEBPACK_IMPORTED_MODULE_1_axios___default.a.get('http://mwstory.dev').then(function (response) {\n      if (response.data.story.length) {\n        _this2.theStory = response.data.story;\n      } else {\n        _this2.theStory = \"Start a new story...\";\n      }\n    }).catch(function (e) {\n      _this2.errors.push(e);\n    });\n\n    __WEBPACK_IMPORTED_MODULE_3__EventBus__[\"a\" /* default */].$on(\"photoUploadEvent\", function (response) {\n      _this2.curImageURL = response.data.pi.photoURL;\n      _this2.showUploadWidget = false;\n\n      _this2.updateImageParams();\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nvar EventBus = new __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]();\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ })\n\n},[71]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.40731413ce794bf64aae.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-2213e3fc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MultipleFileUploader.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MultipleFileUploader.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2213e3fc\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MultipleFileUploader.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MultipleFileUploader.vue\n// module id = 117\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0eb259cd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./StoryEdit.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./StoryEdit.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0eb259cd\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./StoryEdit.vue\"),\n  /* scopeId */\n  \"data-v-0eb259cd\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/StoryEdit.vue\n// module id = 118\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"hello\"\n  }, [_c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showUploadWidget),\n      expression: \"showUploadWidget\"\n    }]\n  }, [_c('h1', [_vm._v(_vm._s(_vm.msg))]), _vm._v(\" \"), _c('multiple-file-uploader', {\n    attrs: {\n      \"postURL\": \"http://mwstory.dev?cmd=addPhoto\",\n      \"successMessagePath\": \"\",\n      \"errorMessagePath\": \"\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.showUploadWidget),\n      expression: \"!showUploadWidget\"\n    }]\n  }, [_c('h1', [_vm._v(\"Enter Attributes, then pick spot, update story...\")]), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": \"location\"\n    }\n  }, [_vm._v(\"Location\")]), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"id\": \"location\",\n      \"type\": \"text\"\n    }\n  }), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": \"description\"\n    }\n  }, [_vm._v(\"Description\")]), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"id\": \"description\",\n      \"type\": \"text\",\n      \"placeholder\": \"description\"\n    }\n  }), _vm._v(\" \"), _c('label', {\n    attrs: {\n      \"for\": \"tags\"\n    }\n  }, [_vm._v(\"Tags\")]), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"id\": \"tags\",\n      \"type\": \"text\",\n      \"placeholder\": \"tags\"\n    }\n  }), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": _vm.updateStory\n    }\n  }, [_vm._v(\"Update Story\")])])]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"myStory\",\n      \"contenteditable\": \"true\"\n    },\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.theStory)\n    },\n    on: {\n      \"focus\": _vm.gotFocus\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0eb259cd\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/StoryEdit.vue\n// module id = 119\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"uploadBox\"\n  }, [_c('form', {\n    attrs: {\n      \"role\": \"form\",\n      \"enctype\": \"multipart/form-data\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.onSubmit($event)\n      }\n    }\n  }, [(!_vm.itemsAdded) ? _c('div', {\n    staticClass: \"uploadBoxMain\"\n  }, [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('div', {\n    staticClass: \"dropArea\",\n    on: {\n      \"ondragover\": _vm.onChange\n    }\n  }, [_vm._v(\"\\n                        Drop a photo here.\\n                        \"), _c('input', {\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"items\",\n      \"name\": \"items[]\",\n      \"required\": \"\"\n    },\n    on: {\n      \"change\": _vm.onChange\n    }\n  })])])]) : _c('div', {\n    staticClass: \"uploadBoxMain\"\n  }, [_c('p', [_c('strong', [_vm._v(\"Name\")])]), _vm._v(\" \"), _c('ol', _vm._l((_vm.itemsNames), function(name) {\n    return _c('li', [_vm._v(_vm._s(name))])\n  })), _vm._v(\" \"), _c('p', [_c('strong', [_vm._v(\"Size\")])]), _vm._v(\" \"), _c('ol', _vm._l((_vm.itemsSizes), function(size) {\n    return _c('li', [_vm._v(_vm._s(size))])\n  })), _vm._v(\" \"), _c('p', [_c('strong', [_vm._v(\"Total upload size:\")]), _vm._v(\" \" + _vm._s(_vm.itemsTotalSize))]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": _vm.removeItems\n    }\n  }, [_vm._v(\"Remove files\")]), _vm._v(\" \"), (_vm.isLoaderVisible) ? _c('div', {\n    staticClass: \"loader\"\n  }, [_c('div', {\n    staticClass: \"loaderImg\"\n  })]) : _vm._e()])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2213e3fc\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/MultipleFileUploader.vue\n// module id = 120\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('StoryEdit')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-b43f726c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 121\n// module chunks = 1","import Vue from 'vue'\nlet EventBus = new Vue();\n\n\nexport default EventBus;\n\n\n// WEBPACK FOOTER //\n// ./src/components/EventBus.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-b43f726c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b43f726c\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 50\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <StoryEdit></StoryEdit>\n  </div>\n</template>\n\n<script>\nimport StoryEdit from './components/StoryEdit'\n\nexport default {\n  name: 'app',\n  components: {\n    StoryEdit\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?ccd4e5ee","<template>\n    <div class=\"uploadBox\">\n        <form role=\"form\" enctype=\"multipart/form-data\" @submit.prevent=\"onSubmit\">\n            <div class=\"uploadBoxMain\" v-if=\"!itemsAdded\">\n                <div class=\"form-group\">\n                    <div class=\"dropArea\" @ondragover=\"onChange\">\n                        Drop a photo here.\n                        <input type=\"file\" id=\"items\" name=\"items[]\" required\n                            @change=\"onChange\">\n                    </div>\n                </div>\n            </div>\n            <div class=\"uploadBoxMain\" v-else>\n                <p><strong>Name</strong></p>\n                <ol>\n                    <li v-for=\"name in itemsNames\">{{name}}</li>\n                </ol>\n                <p><strong>Size</strong></p>\n                <ol>\n                    <li v-for=\"size in itemsSizes\">{{size}}</li>\n                </ol>\n                <p><strong>Total upload size:</strong> {{itemsTotalSize}}</p>\n                <button @click=\"removeItems\">Remove files</button>\n                <!-- Loader -->\n                <div class=\"loader\" v-if=\"isLoaderVisible\">\n                    <div class=\"loaderImg\"></div>\n                </div>\n                <!-- End Loader -->\n            </div>\n\n<!--             <div>\n                <button type=\"submit\" class=\"btn btn-primary btn-black btn-round\" :disabled=\"itemsAdded < minItems\">Upload</button>\n                <button type=\"button\" class=\"btn btn-default btn-round\" @click=\"removeItems\">Cancel</button>\n            </div>\n            <br>\n\n            <div class=\"successMsg\" v-if=\"successMsg !== ''\">{{successMsg}}</div>\n            <div class=\"errorMsg\" v-if=\"errorMsg !== ''\">An error has occurred:<br>{{errorMsg}}</div>\n            <div class=\"errorMsg\" v-if=\"itemsAdded && itemsAdded < minItems\">Minimum {{minItems}} files need to be added to uploader. Please remove files and try again.</div>\n\n -->\n        </form>\n    </div>\n</template>\n\n<script>\nrequire('es6-promise').polyfill();\nimport axios from 'axios';\nimport EventBus from './EventBus';\n\ncomponent: {axios}\nexport default {\n    props: {\n        postURL: {\n            type: String,\n            required: true\n        },\n        minItems: {\n            type: Number,\n            default: 1\n        },\n        method: {\n            type: String,\n            default: 'post'\n        },\n        postMeta: {\n            type: [String, Array, Object],\n            default: ''\n        },\n        successMessagePath: {\n            type: String,\n            required: true\n        },\n        errorMessagePath: {\n            type: String,\n            required: true\n        }\n    },\n\n    /*\n     * The component's data.\n     */\n    data() {\n        return {\n            items: [],\n            itemsAdded: '',\n            itemsNames: [],\n            itemsSizes: [],\n            itemsTotalSize: '',\n            formData: '',\n            successMsg: '',\n            errorMsg: '',\n            isLoaderVisible: false,\n        }\n    },\n\n    methods: {\n        // http://scratch99.com/web-development/javascript/convert-bytes-to-mb-kb/\n        bytesToSize(bytes) {\n            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n            if (bytes == 0) return 'n/a';\n            let i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n            if (i == 0) return bytes + ' ' + sizes[i];\n            return (bytes / Math.pow(1024, i)).toFixed(2) + ' ' + sizes[i];\n        },\n\n        onChange(e) {\n            this.successMsg = '';\n            this.errorMsg = '';\n            this.formData = new FormData();\n            let files = e.target.files || e.dataTransfer.files;\n            this.itemsAdded = files.length;\n            let fileSizes = 0;\n            for (let x in files) {\n                if (!isNaN(x)) {\n                    this.items = e.target.files[x] || e.dataTransfer.files[x];\n                    this.itemsNames[x] = files[x].name;\n                    this.itemsSizes[x] = this.bytesToSize(files[x].size);\n                    fileSizes += files[x].size;\n                    this.formData.append('items[]', this.items);\n                }\n            }\n            this.itemsTotalSize = this.bytesToSize(fileSizes);\n            this.onSubmit();\n        },\n\n        removeItems() {\n            this.items = '';\n            this.itemsAdded = '';\n            this.itemsNames = [];\n            this.itemsSizes = [];\n            this.itemsTotalSize = '';\n        },\n\n        onSubmit() {\n            this.isLoaderVisible = true;\n\n            if ((typeof this.postMeta === 'string' && this.postMeta !== '') ||\n                (typeof this.postMeta === 'object' && Object.keys(this.postMeta).length > 0)) {\n                this.formData.append('postMeta', this.postMeta);\n            }\n\n            if (this.method === 'put' || this.method === 'post' ) {\n                axios({method: this.method, url: this.postURL, data: this.formData})\n                    .then((response) => {\n                        // console.dir(response);\n\n                        // launch an event to tell StoryEdit about it...\n                        EventBus.$emit(\"photoUploadEvent\", response);\n\n                        this.isLoaderVisible = false;\n                        // Show success message\n                        this.successMsg = this.successMessagePath;\n                        this.removeItems();\n                    })\n                    .catch((error) => {\n                        this.isLoaderVisible = false;\n                        this.errorMsg = error + \".\" + this.errorMessagePath;\n                        this.removeItems();\n                    });\n            } else {\n                this.errorMsg = \"This HTTP method is not allowed. Please use either 'put' or 'post' methods.\";\n                this.removeItems();\n            }\n        },\n    }\n}\n</script>\n\n<style>\n.uploadBox {\n    position: relative;\n    background: #eee;\n    padding: 0 1em 1em 1em;\n    margin: 1em;\n}\n\n.uploadBox h3 {\n    padding-top: 1em;\n}\n\n.uploadBox .uploadBoxMain {\n    position: relative;\n    margin-bottom: 1em;\n    margin-right: 1em;\n}\n\n/* Drag and drop */\n.uploadBox .dropArea {\n    position: relative;\n    width: 100%;\n    height: 3em;\n    border: 5px dashed #00ADCE;\n    text-align: center;\n    font-size: 2em;\n    padding-top: 10px;\n}\n\n.uploadBox .dropArea input {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n}\n/* End drag and drop */\n\n/* Loader */\n.uploadBox .loader {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #fff;\n    opacity: 0.9;\n}\n\n.uploadBox .loaderImg {\n    border: 9px solid #eee;\n    border-top: 9px solid #00ADCE;\n    border-radius: 50%;\n    width: 70px;\n    height: 70px;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n}\n/* End Loader */\n\n.uploadBox .errorMsg {\n    font-size: 2em;\n    color: #a94442;\n}\n\n.uploadBox .successMsg {\n    font-size: 2em;\n    color: #3c763d;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// MultipleFileUploader.vue?0915498e","<template>\n  <div class=\"hello\">\n    <transition name=\"fade\">\n      <div v-show=\"showUploadWidget\">\n        <h1>{{ msg }}</h1>\n\n        <multiple-file-uploader\n          postURL=\"http://mwstory.dev?cmd=addPhoto\"\n          successMessagePath=\"\"\n          errorMessagePath=\"\">          \n        </multiple-file-uploader>\n      </div>\n    </transition>\n\n    <transition name=\"fade\">\n      <div v-show=\"!showUploadWidget\">\n        <h1>Enter Attributes, then pick spot, update story...</h1>\n\n        <label for=\"location\">Location</label>\n          <input id=\"location\" type=\"text\"></input>\n        <label for=\"description\">Description</label>\n          <input id=\"description\" type=\"text\" placeholder=\"description\"></input>\n        <label for=\"tags\">Tags</label>\n        <input id=\"tags\" type=\"text\" placeholder=\"tags\"></input>\n        <button @click=\"updateStory\">Update Story</button>\n      </div>\n    </transition>\n\n    <div id=\"myStory\" contenteditable=\"true\" @focus=\"gotFocus\" v-html=\"theStory\">      \n    </div>\n\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport MultipleFileUploader from './MultipleFileUploader'\nimport EventBus from './EventBus';\n\nexport default {\n\n  components: {\n    MultipleFileUploader\n  },\n  name: 'StoryEdit',\n  data () {\n    return {\n      errors: [],\n      msg: 'Story Editor',\n      theStory: 'Loading...',\n      location: \"\",\n      description: \"\",\n      tags: \"\",\n      curImage: \"\",\n      curImageURL: '',\n      showUploadWidget: true\n    }\n  },\n\n  methods: {\n    gotFocus() {\n      this.updateImageParams();\n      this.insertHtmlAtCursor(this.curImage);\n    },\n\n    updateImageParams() {\n      this.location = document.getElementById('location').value;\n      this.description = document.getElementById('description').value;\n      this.tags = document.getElementById('tags').value;\n\n      this.curImage = `<img src=\"http://${this.curImageURL}\" title='Location: ${this.location}\\nDescription: ${this.description}\\nTags: ${this.tags}' />`;\n\n      console.log(this.curImage);      \n    },\n\n    // from Stack Overflow\n    insertHtmlAtCursor(html) {\n      var range, node;\n      if (window.getSelection && window.getSelection().getRangeAt) {\n          range = window.getSelection().getRangeAt(0);\n          node = range.createContextualFragment(html);\n          range.insertNode(node);\n      } else if (document.selection && document.selection.createRange) {\n          document.selection.createRange().pasteHTML(html);\n      }\n\n      const myStory = document.getElementById('myStory');\n      console.log(myStory.innerHTML);\n\n    },\n\n    updateStory() {\n      let params = new URLSearchParams();\n      params.append('story', JSON.stringify(myStory.innerHTML));\n\n      axios.post('http://mwstory.dev?cmd=updateStory', params)\n      .then(response => {\n        this.showUploadWidget = true;\n      })\n      .catch(e => {\n        this.errors.push(e)\n      })\n\n    }\n\n  },\n\n\n  created() {\n    axios.get(`http://mwstory.dev`)\n    .then(response => {\n      if (response.data.story.length) {\n        this.theStory = response.data.story;        \n      } else {\n        this.theStory = \"Start a new story...\";\n      }\n    })\n    .catch(e => {\n      this.errors.push(e)\n    });\n\n    EventBus.$on(\"photoUploadEvent\", (response) => {\n      this.curImageURL = response.data.pi.photoURL;\n      this.showUploadWidget = false;\n\n      this.updateImageParams();\n    })\n\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 0.5s\n}\n.fade-enter, .fade-leave-to {\n  opacity: 0\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// StoryEdit.vue?0509ccfa","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\nlet EventBus = new Vue();\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}